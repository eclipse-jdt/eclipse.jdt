<project name="patchMetadata" default="main">

    <target name="main">
        <echo message="Patching metadata in ${REPODIR} to relax version requirement of our patch feature"/>

		<!-- patch feature version in content.xml -->
		<property name="patch-content.xsltFile" value="${BASE}/patchMatchVersion.xsl" />
		<property name="content.origFile" value="content-ORIG.xml" />
        <property name="content.transFile" value="content.xml" />
        <xslt basedir="${REPODIR}" destdir="${REPODIR}" includes="${content.origFile}" style="${patch-content.xsltFile}" force="true">
                <outputproperty name="method" value="xml"/>
                <outputproperty name="encoding" value="UTF-8"/>
                <outputproperty name="indent" value="yes"/>
        		<param name="patchFeatureVersionRange" expression="${patchFeatureVersionRange}"/>
        		<param name="patchFeatureIU" expression="org.eclipse.jdt.java25patch.feature.group"/>
                <mapper type="glob" from="${content.origFile}" to="${content.transFile}"/>
        </xslt>
    </target>
</project>
